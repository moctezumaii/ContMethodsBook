<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Week 04 - Version Control, Git &amp; Collaboration â€“ SNR 690 â€” Contemporary Approaches to Quantitative Methods</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../assets/favicon.ico" rel="icon">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-dfb324f25d9b1687192fa8be62ac8f9c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">SNR 690 â€” Contemporary Approaches to Quantitative Methods</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../syllabus.html"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-weeks" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Weeks</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-weeks">    
        <li>
    <a class="dropdown-item" href="../weeks/week01.html">
 <span class="dropdown-text">Week 01</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../weeks/week02.html">
 <span class="dropdown-text">Week 02</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../weeks/week03.html">
 <span class="dropdown-text">Week 03</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../weeks/week04.html">
 <span class="dropdown-text">Week 04</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projects" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Projects</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-projects">    
        <li>
    <a class="dropdown-item" href="../projects/index.html">
 <span class="dropdown-text">Project Home</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-materials" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Materials</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-materials">    
        <li>
    <a class="dropdown-item" href="../materials/Week3questions.html">
 <span class="dropdown-text">Week 3 questions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../materials/sixq.html">
 <span class="dropdown-text">Week 3 graffiti wall activity</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../materials/answersheet_Version5.html">
 <span class="dropdown-text">Answers to Week 3 questions</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-resources" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Resources</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-resources">    
        <li>
    <a class="dropdown-item" href="https://r4ds.hadley.nz/">
 <span class="dropdown-text">R for Data Science</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://bookdown.org/jgscott/DSGI/">
 <span class="dropdown-text">Data Science Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://moctezumaii.github.io/SNR610/">
 <span class="dropdown-text">SNR 610 Course Book</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../references.html"> 
<span class="menu-text">References</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-slideshows" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Slideshows</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-slideshows">    
        <li>
    <a class="dropdown-item" href="../slides/slide-Week01.html">
 <span class="dropdown-text">Slides Week 01</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../slides/slides-Week02.html">
 <span class="dropdown-text">Slides Week 02</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../slides/slides-Week03.html">
 <span class="dropdown-text">Slides Week 03</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../slides/slides-Week04.html">
 <span class="dropdown-text">Slides Week 04</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#objectives-and-background" id="toc-objectives-and-background" class="nav-link active" data-scroll-target="#objectives-and-background"><span class="header-section-number">1</span> Objectives and background</a>
  <ul class="collapse">
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link" data-scroll-target="#learning-objectives"><span class="header-section-number">1.1</span> Learning Objectives</a></li>
  <li><a href="#background-reading" id="toc-background-reading" class="nav-link" data-scroll-target="#background-reading"><span class="header-section-number">1.2</span> Background Reading</a></li>
  </ul></li>
  <li><a href="#session-a-why-version-control-lecture-discussion-75-min" id="toc-session-a-why-version-control-lecture-discussion-75-min" class="nav-link" data-scroll-target="#session-a-why-version-control-lecture-discussion-75-min"><span class="header-section-number">2</span> Session A: Why Version Control? (Lecture + Discussion, 75 min)</a>
  <ul class="collapse">
  <li><a href="#part-1-retrieval-practice---what-do-you-remember-8-min" id="toc-part-1-retrieval-practice---what-do-you-remember-8-min" class="nav-link" data-scroll-target="#part-1-retrieval-practice---what-do-you-remember-8-min"><span class="header-section-number">2.1</span> Part 1: Retrieval Practice - What Do You Remember? (8 min)</a></li>
  <li><a href="#part-2-predict-observe-explain-12-min" id="toc-part-2-predict-observe-explain-12-min" class="nav-link" data-scroll-target="#part-2-predict-observe-explain-12-min"><span class="header-section-number">2.2</span> Part 2: Predict-Observe-Explain (12 min)</a>
  <ul class="collapse">
  <li><a href="#predict-3-min---write-on-paper" id="toc-predict-3-min---write-on-paper" class="nav-link" data-scroll-target="#predict-3-min---write-on-paper"><span class="header-section-number">2.2.1</span> ğŸ”® PREDICT (3 min - write on paper)</a></li>
  <li><a href="#observe-2-minute" id="toc-observe-2-minute" class="nav-link" data-scroll-target="#observe-2-minute"><span class="header-section-number">2.2.2</span> ğŸ‘ï¸ OBSERVE (2 minute)</a></li>
  <li><a href="#explain-5-min---whole-class" id="toc-explain-5-min---whole-class" class="nav-link" data-scroll-target="#explain-5-min---whole-class"><span class="header-section-number">2.2.3</span> ğŸ’¡ EXPLAIN (5 min - whole class)</a></li>
  </ul></li>
  <li><a href="#part-3-why-version-control---elaborative-interrogation-10-min" id="toc-part-3-why-version-control---elaborative-interrogation-10-min" class="nav-link" data-scroll-target="#part-3-why-version-control---elaborative-interrogation-10-min"><span class="header-section-number">2.3</span> Part 3: Why Version Control? - Elaborative Interrogation (10 min)</a>
  <ul class="collapse">
  <li><a href="#round-1-pair-up---why-chain-6-min" id="toc-round-1-pair-up---why-chain-6-min" class="nav-link" data-scroll-target="#round-1-pair-up---why-chain-6-min"><span class="header-section-number">2.3.1</span> Round 1: Pair Up - â€œWhyâ€ Chain (6 min)</a></li>
  <li><a href="#round-2-connect-to-a-specific-week-5-min" id="toc-round-2-connect-to-a-specific-week-5-min" class="nav-link" data-scroll-target="#round-2-connect-to-a-specific-week-5-min"><span class="header-section-number">2.3.2</span> Round 2: Connect to a Specific Week (5 min)</a></li>
  </ul></li>
  <li><a href="#part-4-lecture---what-is-git-20-min" id="toc-part-4-lecture---what-is-git-20-min" class="nav-link" data-scroll-target="#part-4-lecture---what-is-git-20-min"><span class="header-section-number">2.4</span> Part 4: Lecture - What is Git? (â‰ˆ20 min)</a>
  <ul class="collapse">
  <li><a href="#what-is-version-control" id="toc-what-is-version-control" class="nav-link" data-scroll-target="#what-is-version-control"><span class="header-section-number">2.4.1</span> What is version control?</a></li>
  <li><a href="#why-git-specifically" id="toc-why-git-specifically" class="nav-link" data-scroll-target="#why-git-specifically"><span class="header-section-number">2.4.2</span> Why Git specifically?</a></li>
  <li><a href="#key-concepts" id="toc-key-concepts" class="nav-link" data-scroll-target="#key-concepts"><span class="header-section-number">2.4.3</span> Key Concepts</a></li>
  <li><a href="#the-git-mental-model" id="toc-the-git-mental-model" class="nav-link" data-scroll-target="#the-git-mental-model"><span class="header-section-number">2.4.4</span> The Git Mental Model</a></li>
  <li><a href="#git-is-not-just-for-code" id="toc-git-is-not-just-for-code" class="nav-link" data-scroll-target="#git-is-not-just-for-code"><span class="header-section-number">2.4.5</span> Git is <em>Not</em> Just for Code</a></li>
  <li><a href="#github-git" id="toc-github-git" class="nav-link" data-scroll-target="#github-git"><span class="header-section-number">2.4.6</span> GitHub â‰  Git</a></li>
  </ul></li>
  <li><a href="#part-5-concept-map---your-understanding-of-git-8-min" id="toc-part-5-concept-map---your-understanding-of-git-8-min" class="nav-link" data-scroll-target="#part-5-concept-map---your-understanding-of-git-8-min"><span class="header-section-number">2.5</span> Part 5: Concept Map - Your Understanding of Git (8 min)</a>
  <ul class="collapse">
  <li><a href="#individual-5-min" id="toc-individual-5-min" class="nav-link" data-scroll-target="#individual-5-min"><span class="header-section-number">2.5.1</span> Individual (5 min)</a></li>
  </ul></li>
  <li><a href="#part-6-hands-on---join-github-create-your-first-repo-first-commits-15-min" id="toc-part-6-hands-on---join-github-create-your-first-repo-first-commits-15-min" class="nav-link" data-scroll-target="#part-6-hands-on---join-github-create-your-first-repo-first-commits-15-min"><span class="header-section-number">2.6</span> Part 6: Hands-On - Join GitHub, Create Your First Repo, First Commits (â‰ˆ15 min)</a>
  <ul class="collapse">
  <li><a href="#step-1-make-sure-youre-on-github-2-min" id="toc-step-1-make-sure-youre-on-github-2-min" class="nav-link" data-scroll-target="#step-1-make-sure-youre-on-github-2-min"><span class="header-section-number">2.6.1</span> Step 1: Make sure youâ€™re on GitHub (2 min)</a></li>
  <li><a href="#step-2-create-a-new-rstudio-project-with-git-3-min" id="toc-step-2-create-a-new-rstudio-project-with-git-3-min" class="nav-link" data-scroll-target="#step-2-create-a-new-rstudio-project-with-git-3-min"><span class="header-section-number">2.6.2</span> Step 2: Create a new RStudio Project with Git (3 min)</a></li>
  <li><a href="#step-3-create-a-new-quarto-file-2-min" id="toc-step-3-create-a-new-quarto-file-2-min" class="nav-link" data-scroll-target="#step-3-create-a-new-quarto-file-2-min"><span class="header-section-number">2.6.3</span> Step 3: Create a new Quarto file (2 min)</a></li>
  <li><a href="#step-4-write-the-simulation---step-1-only-data-simulation-3-min" id="toc-step-4-write-the-simulation---step-1-only-data-simulation-3-min" class="nav-link" data-scroll-target="#step-4-write-the-simulation---step-1-only-data-simulation-3-min"><span class="header-section-number">2.6.4</span> Step 4: Write the simulation - Step 1 only (data simulation) (3 min)</a></li>
  <li><a href="#step-5-make-your-first-commit-3-min" id="toc-step-5-make-your-first-commit-3-min" class="nav-link" data-scroll-target="#step-5-make-your-first-commit-3-min"><span class="header-section-number">2.6.5</span> Step 5: Make your FIRST commit (3 min)</a></li>
  <li><a href="#step-6-connect-to-github-and-push-3-min" id="toc-step-6-connect-to-github-and-push-3-min" class="nav-link" data-scroll-target="#step-6-connect-to-github-and-push-3-min"><span class="header-section-number">2.6.6</span> Step 6: Connect to GitHub and push (3 min)</a></li>
  </ul></li>
  <li><a href="#muddiest-point-2-min" id="toc-muddiest-point-2-min" class="nav-link" data-scroll-target="#muddiest-point-2-min"><span class="header-section-number">2.7</span> Muddiest Point (2 min)</a></li>
  </ul></li>
  <li><a href="#session-b-hands-on---simulations-revisited-git-workshop-75-min" id="toc-session-b-hands-on---simulations-revisited-git-workshop-75-min" class="nav-link" data-scroll-target="#session-b-hands-on---simulations-revisited-git-workshop-75-min"><span class="header-section-number">3</span> Session B: Hands-On - Simulations Revisited + Git Workshop (75 min)</a>
  <ul class="collapse">
  <li><a href="#muddiest-points-2-min" id="toc-muddiest-points-2-min" class="nav-link" data-scroll-target="#muddiest-points-2-min"><span class="header-section-number">3.0.1</span> Muddiest Points (2 min)</a></li>
  <li><a href="#lets-start-the-class-by-taking-a-couple-minutes-and-write-the-things-that-have-been-the-most-complicated-about-this-class" id="toc-lets-start-the-class-by-taking-a-couple-minutes-and-write-the-things-that-have-been-the-most-complicated-about-this-class" class="nav-link" data-scroll-target="#lets-start-the-class-by-taking-a-couple-minutes-and-write-the-things-that-have-been-the-most-complicated-about-this-class"><span class="header-section-number">3.1</span> Letâ€™s start the class by taking a couple minutes and write the things that have been the most complicated about this class</a></li>
  <li><a href="#part-1-week-3-simulation-refresher-35-min" id="toc-part-1-week-3-simulation-refresher-35-min" class="nav-link" data-scroll-target="#part-1-week-3-simulation-refresher-35-min"><span class="header-section-number">3.2</span> Part 1: Week 3 Simulation Refresher (â‰ˆ35 min)</a>
  <ul class="collapse">
  <li><a href="#why-simulate-5-min---mini-lecture" id="toc-why-simulate-5-min---mini-lecture" class="nav-link" data-scroll-target="#why-simulate-5-min---mini-lecture"><span class="header-section-number">3.2.1</span> Why Simulate? (5 min - mini-lecture)</a></li>
  </ul></li>
  <li><a href="#part-1-setting-up-your-team-repository-10-min" id="toc-part-1-setting-up-your-team-repository-10-min" class="nav-link" data-scroll-target="#part-1-setting-up-your-team-repository-10-min"><span class="header-section-number">3.3</span> Part 1: Setting Up Your Team Repository (â‰ˆ10 min)</a>
  <ul class="collapse">
  <li><a href="#form-pairs-1-min" id="toc-form-pairs-1-min" class="nav-link" data-scroll-target="#form-pairs-1-min"><span class="header-section-number">3.3.1</span> Form Pairs (1 min)</a></li>
  <li><a href="#one-person-creates-the-repo-3-min" id="toc-one-person-creates-the-repo-3-min" class="nav-link" data-scroll-target="#one-person-creates-the-repo-3-min"><span class="header-section-number">3.3.2</span> One Person Creates the Repo (3 min)</a></li>
  <li><a href="#both-partners-clone-the-repo-3-min" id="toc-both-partners-clone-the-repo-3-min" class="nav-link" data-scroll-target="#both-partners-clone-the-repo-3-min"><span class="header-section-number">3.3.3</span> Both Partners Clone the Repo (3 min)</a></li>
  <li><a href="#decide-who-does-what-1-min" id="toc-decide-who-does-what-1-min" class="nav-link" data-scroll-target="#decide-who-does-what-1-min"><span class="header-section-number">3.3.4</span> Decide Who Does What (1 min)</a></li>
  </ul></li>
  <li><a href="#part-2-simulation-exercises-start-simple-no-transformations-45-min" id="toc-part-2-simulation-exercises-start-simple-no-transformations-45-min" class="nav-link" data-scroll-target="#part-2-simulation-exercises-start-simple-no-transformations-45-min"><span class="header-section-number">3.4</span> Part 2: Simulation Exercises â€” Start Simple, No Transformations (â‰ˆ45 min)</a>
  <ul class="collapse">
  <li><a href="#activity-1-salamander-survival-partner-a-station-1-from-week-3" id="toc-activity-1-salamander-survival-partner-a-station-1-from-week-3" class="nav-link" data-scroll-target="#activity-1-salamander-survival-partner-a-station-1-from-week-3"><span class="header-section-number">3.4.1</span> Activity 1: Salamander Survival (Partner A) â€” Station 1 from Week 3</a></li>
  <li><a href="#activity-2-wheat-yield-trials-partner-b-station-2-from-week-3" id="toc-activity-2-wheat-yield-trials-partner-b-station-2-from-week-3" class="nav-link" data-scroll-target="#activity-2-wheat-yield-trials-partner-b-station-2-from-week-3"><span class="header-section-number">3.4.2</span> Activity 2: Wheat Yield Trials (Partner B) â€” Station 2 from Week 3</a></li>
  </ul></li>
  <li><a href="#part-3-review-your-partners-work-reflection-10-min" id="toc-part-3-review-your-partners-work-reflection-10-min" class="nav-link" data-scroll-target="#part-3-review-your-partners-work-reflection-10-min"><span class="header-section-number">3.5</span> Part 3: Review Your Partnerâ€™s Work + Reflection (â‰ˆ10 min)</a>
  <ul class="collapse">
  <li><a href="#pull-and-read-5-min" id="toc-pull-and-read-5-min" class="nav-link" data-scroll-target="#pull-and-read-5-min"><span class="header-section-number">3.5.1</span> Pull and Read (5 min)</a></li>
  <li><a href="#git-log-review-2-min" id="toc-git-log-review-2-min" class="nav-link" data-scroll-target="#git-log-review-2-min"><span class="header-section-number">3.5.2</span> Git Log Review (2 min)</a></li>
  <li><a href="#exit-ticket-2-min" id="toc-exit-ticket-2-min" class="nav-link" data-scroll-target="#exit-ticket-2-min"><span class="header-section-number">3.5.3</span> Exit Ticket (2 min)</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Week 04 - Version Control, Git &amp; Collaboration</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="objectives-and-background" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Objectives and background</h1>
<p>Topic: Introduction to Git, GitHub, and Collaborative Reproducible Research</p>
<section id="learning-objectives" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="learning-objectives"><span class="header-section-number">1.1</span> Learning Objectives</h2>
<ul>
<li>Explain <em>why</em> version control matters for reproducible, transparent research</li>
<li>Connect version control philosophy to themes from Weeks 1â€“3 (data exploration, model selection, the Method-Question-Data triangle)</li>
<li>Use Git and GitHub for basic version control (init, add, commit, push, pull)</li>
<li>Collaborate on a shared repository using branches and pull requests</li>
<li>Apply version control to a Quarto-based analytical workflow</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
The Semester So Far - Key Takeaways from Weeks 1â€“3
</div>
</div>
<div class="callout-body-container callout-body">
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 26%">
<col style="width: 48%">
</colgroup>
<thead>
<tr class="header">
<th>Week</th>
<th>Topic</th>
<th>Key Takeaway</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Introductions &amp; Papers</td>
<td>Data exploration protects inference (Zuur); exploration vs.&nbsp;inference should be independent (Tredennick); always explore your data before modeling</td>
</tr>
<tr class="even">
<td>2</td>
<td>Philosophy of Data Analysis</td>
<td>â€œAll models are wrongâ€ (Box); Bayesian vs.&nbsp;frequentist thinking; uncertainty is everywhere; the goal is to find the useful model, not the true one</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Statistical Modeling Framework</td>
<td>The Method-Question-Data Triangle must align; mismatch â†’ wrong conclusions; overcomplication â†’ wasted effort; start simple, add complexity only when needed</td>
</tr>
<tr class="even">
<td><strong>4</strong></td>
<td><strong>Version Control &amp; Collaboration</strong></td>
<td><strong>Your analytical decisions need to be tracked, transparent, and reproducible - Git makes this possible</strong></td>
</tr>
</tbody>
</table>
</div>
</div>
<p>In Weeks 1â€“3, we talked about <em>how to think</em> about data analysis:</p>
<ul>
<li><strong>Week 1</strong> emphasized that data exploration and inference are separate activities - but both must be documented. How do you keep track of which analyses were exploratory vs.&nbsp;confirmatory?</li>
<li><strong>Week 2</strong> introduced the idea that all models are wrong but some are useful. If you try multiple models, how do you record <em>which</em> ones you tried, <em>why</em> you chose one over another, and <em>what changed</em>?</li>
<li><strong>Week 3</strong> showed us the Method-Question-Data Triangle and the dangers of mismatch vs.&nbsp;overcomplication. When you iterate through model choices - trying a <code>lm()</code>, realizing you need a <code>glmer()</code>, adding random effects - how do you track that evolution?</li>
</ul>
<p><strong>Version control can help us with this</strong> And at WORSTâ€¦ it is a great tool to have!</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
About Week 3 Simulations
</div>
</div>
<div class="callout-body-container callout-body">
<p>Many of you found the simulation exercises in Week 3 challenging - simulating data that matches a scenario description, then fitting both the â€œproposedâ€ (wrong) and â€œcorrectâ€ models. <strong>Thatâ€™s completely normal.</strong> Simulating data is a skill that takes practice.</p>
<p>Session B this week is designed to give you a <strong>second pass</strong> at those simulations. The first hands-on activity will walk through the Week 3 simulation &amp; analysis exercises together, step by step. <em>Then</em> weâ€™ll layer Git on top, so youâ€™re learning version control with familiar code rather than starting from scratch.</p>
</div>
</div>
</section>
<section id="background-reading" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="background-reading"><span class="header-section-number">1.2</span> Background Reading</h2>
<p>Before Thursday class, review the following:</p>
<ul>
<li><a href="https://happygitwithr.com/">Happy Git with R</a> - Great guide</li>
<li><a href="https://docs.github.com/en/get-started/quickstart">GitHub Quickstart Guide</a> â€“&gt; REad this for an overview of GitHubâ€™s features ## Before Class</li>
</ul>
<p>Make sure you have:</p>
<ul class="task-list">
<li><label><input type="checkbox">A <a href="https://github.com">GitHub account</a> (you should already have this from Week 1)</label></li>
<li><label><input type="checkbox">Git installed on your computer (<code>git --version</code> in terminal)</label></li>
<li><label><input type="checkbox">RStudio or Positron with Git integration configured</label></li>
<li><label><input type="checkbox">Accepted the invite to the course repository â€“ check your email or GitHub notifications</label></li>
<li><label><input type="checkbox">Confirmed Codespaces access (if using browser-based workflow) â€“ check your email or GitHub notifications</label></li>
</ul>
<p>Think about:</p>
<ul>
<li>How many versions of your thesis/analysis scripts do you currently have?</li>
<li>Have you ever lost work, overwritten a file, or been unable to undo a change?</li>
<li>Have you ever emailed a script to a collaborator and gotten confused about which version is â€œcurrentâ€?</li>
</ul>
<hr>
</section>
</section>
<section id="session-a-why-version-control-lecture-discussion-75-min" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Session A: Why Version Control? (Lecture + Discussion, 75 min)</h1>
<section id="part-1-retrieval-practice---what-do-you-remember-8-min" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="part-1-retrieval-practice---what-do-you-remember-8-min"><span class="header-section-number">2.1</span> Part 1: Retrieval Practice - What Do You Remember? (8 min)</h2>
<p>Before we introduce anything new, letâ€™s activate what you already know from Weeks 1â€“3. <strong>No notes, no phones</strong> - this is retrieval practice. Struggling to recall is the point; it strengthens memory.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quick-Fire Recall (write on paper, 3 min)
</div>
</div>
<div class="callout-body-container callout-body">
<p>Answer as many as you can from memory. One or two sentences each is fine.</p>
<ol type="1">
<li>What did Zuur argue about data exploration? What is the goal of exploring your data before modeling?</li>
<li>What is Boxâ€™s famous quote about models? What does it mean in practice?</li>
<li>In Week 3, what were the <strong>three scenarios</strong> we examined? (Hint: one was a â€œgood matchâ€)</li>
<li>In the examples from Week 3, explain one fo the experiments and what went wrong?</li>
<li>What is the <strong>Golden Rule</strong> from Week 3?</li>
</ol>
</div>
</div>
<p><strong>Debrief (5 min):</strong> Turn to a neighbor and compare answers. Fill in each otherâ€™s gaps. note: ask them what they want here</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Why Retrieval Practice?
</div>
</div>
<div class="callout-body-container callout-body">
<p>Research shows that actively recalling information - even when itâ€™s difficult - produces stronger long-term retention than re-reading notes (Roediger &amp; Butler, 2011). This is a â€œdesirable difficulty.â€ If it felt hard, thatâ€™s good!</p>
</div>
</div>
</section>
<section id="part-2-predict-observe-explain-12-min" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="part-2-predict-observe-explain-12-min"><span class="header-section-number">2.2</span> Part 2: Predict-Observe-Explain (12 min)</h2>
<p><strong>Quick Poll:</strong> Raise your hand if youâ€™ve ever:</p>
<ol type="1">
<li>Lost work because you overwrote a file</li>
<li>Couldnâ€™t remember why you changed something in your code</li>
<li>Had a collaborator edit the same file and you had to manually merge changes</li>
<li>Had a folder full of <code>_v2</code>, <code>_v3</code>, <code>_FINAL</code> files</li>
</ol>
<section id="predict-3-min---write-on-paper" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="predict-3-min---write-on-paper"><span class="header-section-number">2.2.1</span> ğŸ”® PREDICT (3 min - write on paper)</h3>
<p>Here is a scenario. <strong>Predict what will go wrong:</strong></p>
<blockquote class="blockquote">
<p>Youâ€™re writing your thesis. You have a file called <code>analysis.R</code>. You make changes over two weeks. Your folder now looks like this:</p>
<pre><code>analysis.R
analysis_v2.R
analysis_FINAL.R
analysis_FINAL_v2.R
analysis_FINAL_ACTUALLY_FINAL.R
analysis_FINAL_ACTUALLY_FINAL_USE_THIS_ONE.R</code></pre>
<p>Your advisor emails and says: <em>â€œThe reviewer wants to see the version where you used the Poisson model instead of the linear model. Can you send that?â€</em></p>
</blockquote>
<p><strong>Write down:</strong> What happens next? What specifically goes wrong? How long does it take you to find the right version? Do you even <em>have</em> it?</p>
</section>
<section id="observe-2-minute" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="observe-2-minute"><span class="header-section-number">2.2.2</span> ğŸ‘ï¸ OBSERVE (2 minute)</h3>
<p>I will show how source control works. And why it is so powerful.</p>
</section>
<section id="explain-5-min---whole-class" class="level3" data-number="2.2.3">
<h3 data-number="2.2.3" class="anchored" data-anchor-id="explain-5-min---whole-class"><span class="header-section-number">2.2.3</span> ğŸ’¡ EXPLAIN (5 min - whole class)</h3>
<p>As a class, answer:</p>
<ol type="1">
<li>Why does the file-naming approach fail? (Be specific: what information is lost?)</li>
<li>What does Git preserve that file-naming doesnâ€™t?</li>
<li>Can you connect this to Boxâ€™s â€œall models are wrongâ€ idea? (Hint: if youâ€™re iterating through models, you need a record of <em>which</em> wrong models you tried and why you moved on)</li>
</ol>
</section>
</section>
<section id="part-3-why-version-control---elaborative-interrogation-10-min" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="part-3-why-version-control---elaborative-interrogation-10-min"><span class="header-section-number">2.3</span> Part 3: Why Version Control? - Elaborative Interrogation (10 min)</h2>
<p>Elaborative interrogation means asking â€œ<strong>why?</strong>â€ and â€œ<strong>how?</strong>â€ until you reach a deep understanding.</p>
<section id="round-1-pair-up---why-chain-6-min" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="round-1-pair-up---why-chain-6-min"><span class="header-section-number">2.3.1</span> Round 1: Pair Up - â€œWhyâ€ Chain (6 min)</h3>
<p>With a partner, take turns asking â€œwhy?â€ about this statement. Go at least four levels deep:</p>
<blockquote class="blockquote">
<p><strong>â€œResearchers should use version control for their analyses.â€</strong></p>
</blockquote>
</section>
<section id="round-2-connect-to-a-specific-week-5-min" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="round-2-connect-to-a-specific-week-5-min"><span class="header-section-number">2.3.2</span> Round 2: Connect to a Specific Week (5 min)</h3>
<p>Each pair picks <strong>two</strong> statements.</p>
<p>And you do the <em>why?</em> and <em>how?</em> chain for each one.</p>
<ol type="1">
<li><p>Data exploration should protect inference, not create it. (Zuur, Week 1)</p></li>
<li><p>All models are wrong, but some are useful.â€ (Box, Week 2)</p></li>
<li><p>â€œStart simple. Add complexity only when needed. Always justify your choices.â€ (Golden Rule, Week 3)</p></li>
<li><p>â€œMisalignment between method, question, and data leads to wrong conclusions, wasted effort, rejected papers, and sad grad students.â€ (Week 3)</p></li>
<li><p>â€œExploration and inference should come from independent studies. (Tredennick, Week 1)</p></li>
</ol>
<p><strong>Share Out (2â€“3 min):</strong> 3â€“4 pairs share their best sentence.</p>
</section>
</section>
<section id="part-4-lecture---what-is-git-20-min" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="part-4-lecture---what-is-git-20-min"><span class="header-section-number">2.4</span> Part 4: Lecture - What is Git? (â‰ˆ20 min)</h2>
<p>Dr.&nbsp;Molina will give a traditional lecture covering the following. Take notes - youâ€™ll use this for a concept map right after.</p>
<section id="what-is-version-control" class="level3" data-number="2.4.1">
<h3 data-number="2.4.1" class="anchored" data-anchor-id="what-is-version-control"><span class="header-section-number">2.4.1</span> What is version control?</h3>
<ul>
<li>A system that records changes to files over time</li>
<li>You can recall any previous version at any time</li>
<li>Think of it as <strong>Track Changes</strong> for your entire project - but much more powerful</li>
</ul>
</section>
<section id="why-git-specifically" class="level3" data-number="2.4.2">
<h3 data-number="2.4.2" class="anchored" data-anchor-id="why-git-specifically"><span class="header-section-number">2.4.2</span> Why Git specifically?</h3>
<ul>
<li>Created by Linus Torvalds (creator of Linux) in 2005</li>
<li>Distributed - every collaborator has the full project history</li>
<li>The industry standard for software, increasingly for science</li>
<li>Integrates with RStudio, Positron, and Quarto</li>
</ul>
</section>
<section id="key-concepts" class="level3" data-number="2.4.3">
<h3 data-number="2.4.3" class="anchored" data-anchor-id="key-concepts"><span class="header-section-number">2.4.3</span> Key Concepts</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 31%">
<col style="width: 36%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th>Concept</th>
<th>What It Is</th>
<th>Analogy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Repository (repo)</strong></td>
<td>A project folder tracked by Git</td>
<td>Your lab notebook for a project</td>
</tr>
<tr class="even">
<td><strong>Commit</strong></td>
<td>A snapshot of your files at a point in time</td>
<td>An entry in your lab notebook</td>
</tr>
<tr class="odd">
<td><strong>Staging (git add)</strong></td>
<td>Choosing which changes to include in the next commit</td>
<td>Deciding which observations to write up</td>
</tr>
<tr class="even">
<td><strong>Branch</strong></td>
<td>A parallel version of your project</td>
<td>An exploratory side-analysis</td>
</tr>
<tr class="odd">
<td><strong>Merge</strong></td>
<td>Combining two branches</td>
<td>Integrating your exploratory findings into your main analysis</td>
</tr>
<tr class="even">
<td><strong>Pull Request (PR)</strong></td>
<td>A request to merge your branch + review</td>
<td>Asking a collaborator to check your work before including it</td>
</tr>
<tr class="odd">
<td><strong>Clone</strong></td>
<td>Downloading a copy of a remote repository</td>
<td>Getting a copy of a shared lab notebook</td>
</tr>
<tr class="even">
<td><strong>Push / Pull</strong></td>
<td>Sending/receiving updates to/from GitHub</td>
<td>Syncing your local lab notebook with the shared one</td>
</tr>
</tbody>
</table>
</section>
<section id="the-git-mental-model" class="level3" data-number="2.4.4">
<h3 data-number="2.4.4" class="anchored" data-anchor-id="the-git-mental-model"><span class="header-section-number">2.4.4</span> The Git Mental Model</h3>
<pre><code>Your Computer (Local)                    GitHub (Remote)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Working Directory   â”‚   git push    â”‚                  â”‚
â”‚  (your files)        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º   â”‚   Remote Repo    â”‚
â”‚         â”‚            â”‚               â”‚   (GitHub)       â”‚
â”‚    git add           â”‚   git pull    â”‚                  â”‚
â”‚         â–¼            â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚                  â”‚
â”‚  Staging Area        â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚         â”‚            â”‚
â”‚    git commit        â”‚
â”‚         â–¼            â”‚
â”‚  Local Repository    â”‚
â”‚  (commit history)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>
</section>
<section id="git-is-not-just-for-code" class="level3" data-number="2.4.5">
<h3 data-number="2.4.5" class="anchored" data-anchor-id="git-is-not-just-for-code"><span class="header-section-number">2.4.5</span> Git is <em>Not</em> Just for Code</h3>
<p>Git tracks <strong>any text file</strong>: <code>.qmd</code>, <code>.R</code>, <code>.csv</code> (small), <code>.bib</code>, <code>.tex</code>, <code>.md</code></p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What Git is NOT Good For
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Large binary files (images, PDFs, Word docs, big datasets)</li>
<li>Files that change constantly in unpredictable ways</li>
<li>Sensitive data (passwords, API keys, personally identifiable data)</li>
</ul>
<p>For large data, look into <code>.gitignore</code> and Git Large File Storage (LFS).</p>
</div>
</div>
</section>
<section id="github-git" class="level3" data-number="2.4.6">
<h3 data-number="2.4.6" class="anchored" data-anchor-id="github-git"><span class="header-section-number">2.4.6</span> GitHub â‰  Git</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 38%">
<col style="width: 61%">
</colgroup>
<thead>
<tr class="header">
<th>Git</th>
<th>GitHub</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>The version control system</td>
<td>A website that hosts Git repositories</td>
</tr>
<tr class="even">
<td>Runs on your computer</td>
<td>Runs in the cloud</td>
</tr>
<tr class="odd">
<td>Tracks history locally</td>
<td>Lets you share, collaborate, and back up</td>
</tr>
<tr class="even">
<td>Free, open source</td>
<td>Free for public repos; education accounts get extras</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="part-5-concept-map---your-understanding-of-git-8-min" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="part-5-concept-map---your-understanding-of-git-8-min"><span class="header-section-number">2.5</span> Part 5: Concept Map - Your Understanding of Git (8 min)</h2>
<p>Now that youâ€™ve heard the lecture, <strong>build a concept map</strong> from memory. This tests whether you actually absorbed it.</p>
<section id="individual-5-min" class="level3" data-number="2.5.1">
<h3 data-number="2.5.1" class="anchored" data-anchor-id="individual-5-min"><span class="header-section-number">2.5.1</span> Individual (5 min)</h3>
<p>On a blank piece of paper, create a <strong>concept map</strong> using these terms. Draw circles for each term and arrows showing how they relate. Label the arrows with verbs (e.g., â€œcreatesâ€, â€œcontainsâ€, â€œsends toâ€).</p>
<p><strong>Terms:</strong> Repository, Commit, Branch, Merge, Pull Request, Clone, Push, Pull, Staging Area, Working Directory, Remote (GitHub)</p>
</section>
</section>
<section id="part-6-hands-on---join-github-create-your-first-repo-first-commits-15-min" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="part-6-hands-on---join-github-create-your-first-repo-first-commits-15-min"><span class="header-section-number">2.6</span> Part 6: Hands-On - Join GitHub, Create Your First Repo, First Commits (â‰ˆ15 min)</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Weâ€™re doing this NOW, together, in class.
</div>
</div>
<div class="callout-body-container callout-body">
<p>The rest of Session A is hands-on.</p>
</div>
</div>
<section id="step-1-make-sure-youre-on-github-2-min" class="level3" data-number="2.6.1">
<h3 data-number="2.6.1" class="anchored" data-anchor-id="step-1-make-sure-youre-on-github-2-min"><span class="header-section-number">2.6.1</span> Step 1: Make sure youâ€™re on GitHub (2 min)</h3>
<ol type="1">
<li>Go to <a href="https://github.com">github.com</a></li>
<li>If you donâ€™t have an account, <strong>create one now</strong></li>
<li>If you havenâ€™t applied for <a href="https://education.github.com/">GitHub Education</a>, do that after class (it gives you free features)</li>
<li>Confirm you can log in</li>
</ol>
</section>
<section id="step-2-create-a-new-rstudio-project-with-git-3-min" class="level3" data-number="2.6.2">
<h3 data-number="2.6.2" class="anchored" data-anchor-id="step-2-create-a-new-rstudio-project-with-git-3-min"><span class="header-section-number">2.6.2</span> Step 2: Create a new RStudio Project with Git (3 min)</h3>
<ol type="1">
<li>Open <strong>RStudio</strong></li>
<li>Go to <strong>File â†’ New Project â†’ New Directory â†’ New Project</strong></li>
<li>Name it: <code>water-growth-sim</code></li>
<li>âœ… Check <strong>â€œCreate a git repositoryâ€</strong></li>
<li>Click <strong>Create Project</strong></li>
</ol>
<p>You now have a local Git repository! Notice the <strong>Git tab</strong> in your RStudio pane (usually top-right).</p>
</section>
<section id="step-3-create-a-new-quarto-file-2-min" class="level3" data-number="2.6.3">
<h3 data-number="2.6.3" class="anchored" data-anchor-id="step-3-create-a-new-quarto-file-2-min"><span class="header-section-number">2.6.3</span> Step 3: Create a new Quarto file (2 min)</h3>
<ol type="1">
<li><strong>File â†’ New File â†’ Quarto Document</strong></li>
<li>Title: <code>"Water and Plant Growth Simulation"</code></li>
<li>Save it as <code>simulation.qmd</code></li>
</ol>
</section>
<section id="step-4-write-the-simulation---step-1-only-data-simulation-3-min" class="level3" data-number="2.6.4">
<h3 data-number="2.6.4" class="anchored" data-anchor-id="step-4-write-the-simulation---step-1-only-data-simulation-3-min"><span class="header-section-number">2.6.4</span> Step 4: Write the simulation - Step 1 only (data simulation) (3 min)</h3>
<p>Type this into your <code>simulation.qmd</code> file. This is a simple simulation: water availability (x) affects plant growth (y) through a basic linear relationship.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># =============================================</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Water &amp; Plant Growth: Simple Linear Simulation</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># =============================================</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Research question: Does water availability affect plant growth?</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># We KNOW the answer because we're simulating the data!</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2024</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the truth</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>n_plants <span class="ot">&lt;-</span> <span class="dv">40</span>             <span class="co"># number of plants</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>true_intercept <span class="ot">&lt;-</span> <span class="dv">5</span>        <span class="co"># baseline growth (cm) with no water</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>true_slope <span class="ot">&lt;-</span> <span class="fl">2.5</span>          <span class="co"># for every 1 unit increase in water, growth increases by 2.5 cm</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>noise_sd <span class="ot">&lt;-</span> <span class="dv">3</span>              <span class="co"># how much natural variation there is</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Simulate predictor: water availability (liters per week)</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>water <span class="ot">&lt;-</span> <span class="fu">runif</span>(n_plants, <span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="dv">10</span>)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Simulate response: plant growth (cm)</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>growth <span class="ot">&lt;-</span> true_intercept <span class="sc">+</span> true_slope <span class="sc">*</span> water <span class="sc">+</span> <span class="fu">rnorm</span>(n_plants, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> noise_sd)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Put it in a data frame</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>plant_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">water =</span> water,</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">growth =</span> growth</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Take a look</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(plant_data)</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(plant_data)</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(plant_data, <span class="fu">aes</span>(<span class="at">x =</span> water, <span class="at">y =</span> growth)) <span class="sc">+</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Simulated: Water Availability vs. Plant Growth"</span>,</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">"True relationship: growth ="</span>, true_intercept, <span class="st">"+"</span>, true_slope, <span class="st">"Ã— water + noise"</span>),</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Water Availability (L/week)"</span>,</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Plant Growth (cm)"</span></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="step-5-make-your-first-commit-3-min" class="level3" data-number="2.6.5">
<h3 data-number="2.6.5" class="anchored" data-anchor-id="step-5-make-your-first-commit-3-min"><span class="header-section-number">2.6.5</span> Step 5: Make your FIRST commit (3 min)</h3>
<ol type="1">
<li>Go to the <strong>Git tab</strong> in RStudio</li>
<li>Youâ€™ll see your files listed (<code>.qmd</code>, <code>.Rproj</code>, maybe <code>.gitignore</code>)</li>
<li><strong>Check the boxes</strong> next to all the files (this is â€œstagingâ€ - <code>git add</code>)</li>
<li>Click <strong>â€œCommitâ€</strong></li>
<li>In the commit message box, type: <code>"Simulated water and plant growth data - true slope is 2.5"</code></li>
<li>Click <strong>Commit</strong></li>
</ol>
<p>ğŸ‰ <strong>Congratulations - you just made your first Git commit!</strong></p>
<p>Click <strong>â€œHistoryâ€</strong> in the Git pane to see your commit. Thereâ€™s your first lab notebook entry.</p>
</section>
<section id="step-6-connect-to-github-and-push-3-min" class="level3" data-number="2.6.6">
<h3 data-number="2.6.6" class="anchored" data-anchor-id="step-6-connect-to-github-and-push-3-min"><span class="header-section-number">2.6.6</span> Step 6: Connect to GitHub and push (3 min)</h3>
<ol type="1">
<li>Go to <a href="https://github.com">github.com</a> â†’ click <strong>â€œ+â€</strong> (top right) â†’ <strong>New repository</strong></li>
<li>Name it: <code>water-growth-sim</code></li>
<li>Leave it <strong>Public</strong> (or Private if you prefer)</li>
<li>âš ï¸ <strong>Do NOT</strong> check â€œAdd a READMEâ€ - your local repo already has files</li>
<li>Click <strong>Create repository</strong></li>
<li>GitHub will show you instructions. Copy the two lines under <strong>â€œâ€¦or push an existing repository from the command lineâ€</strong>:</li>
<li>In RStudio, go to <strong>Terminal</strong> tab (next to Console) and paste those commands</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> remote add origin https://github.com/YOUR-USERNAME/water-growth-sim.git</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> branch <span class="at">-M</span> main</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push <span class="at">-u</span> origin main</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="8" type="1">
<li>Go back to GitHub in your browser and <strong>refresh the page</strong> - your files are there! ğŸ‰</li>
</ol>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Check GitHub!
</div>
</div>
<div class="callout-body-container callout-body">
<p>Go to <code>https://github.com/YOUR-USERNAME/water-growth-sim</code> and confirm you can see your <code>simulation.qmd</code> file. Click on it - you can read your code right in the browser. Click â€œCommitsâ€ to see your commit history (it has one entry so far).</p>
</div>
</div>
<ol start="9" type="1">
<li>Now, return to RStudio, and add one line of code to your <code>simulation.qmd</code>. I want you to run the linear model using <code>lm()</code> and run the <code>summary()</code>. After that, commit again, and see if you can push the changes to GitHub.</li>
<li><strong>Commit message:</strong> <code>"Fit linear model to simulated data"</code></li>
<li>Push to GitHub again.</li>
<li>Render your Quarto document to see the output. You can also commit and push the rendered HTML if you want (thatâ€™s how I made this website!).</li>
</ol>
</section>
</section>
<section id="muddiest-point-2-min" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="muddiest-point-2-min"><span class="header-section-number">2.7</span> Muddiest Point (2 min)</h2>
<p>On a piece of paper, write down the <strong>one thing</strong> from today that is most confusing or unclear to you â€“&gt; We will move this to session 2</p>
</section>
</section>
<section id="session-b-hands-on---simulations-revisited-git-workshop-75-min" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Session B: Hands-On - Simulations Revisited + Git Workshop (75 min)</h1>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Session B
</div>
</div>
<div class="callout-body-container callout-body">
<p>This session has <strong>two parts</strong>:</p>
<p>This entire session is hands-on. You will be working on your computers the whole time. The goals are:</p>
<ol type="1">
<li><strong>Practice GitHub</strong> â€” cloning, committing, pushing, pulling, and collaborating on a shared repository. This is your first real deep dive after the intro in Session A.</li>
<li><strong>Revisit Week 3 simulations</strong> â€” specifically the â€œsimulate â†’ analyze correctly â†’ analyze incorrectlyâ€ workflow, but this time we <strong>start simple</strong> (no transformations like log or logit) and work inside a <strong>Quarto document</strong> with proper source control.</li>
<li><strong>Work collaboratively</strong> â€” youâ€™ll be working in small teams on a shared GitHub repository, experiencing what real collaborative version control feels like.</li>
</ol>
<p><strong>The rule for today: start simple.</strong> Simple linear models. Normal distributions. No transformations. Get comfortable with the simulation â†’ correct analysis â†’ wrong analysis pipeline <em>and</em> with Git before we add complexity.</p>
</div>
</div>
<section id="muddiest-points-2-min" class="level3" data-number="3.0.1">
<h3 data-number="3.0.1" class="anchored" data-anchor-id="muddiest-points-2-min"><span class="header-section-number">3.0.1</span> Muddiest Points (2 min)</h3>
</section>
<section id="lets-start-the-class-by-taking-a-couple-minutes-and-write-the-things-that-have-been-the-most-complicated-about-this-class" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="lets-start-the-class-by-taking-a-couple-minutes-and-write-the-things-that-have-been-the-most-complicated-about-this-class"><span class="header-section-number">3.1</span> Letâ€™s start the class by taking a couple minutes and write the things that have been the most complicated about this class</h2>
</section>
<section id="part-1-week-3-simulation-refresher-35-min" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="part-1-week-3-simulation-refresher-35-min"><span class="header-section-number">3.2</span> Part 1: Week 3 Simulation Refresher (â‰ˆ35 min)</h2>
<section id="why-simulate-5-min---mini-lecture" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="why-simulate-5-min---mini-lecture"><span class="header-section-number">3.2.1</span> Why Simulate? (5 min - mini-lecture)</h3>
<p>Simulation is one of the most powerful tools in a statisticianâ€™s toolkit. It lets you:</p>
<ul>
<li><strong>Understand your model</strong> by seeing how data generated <em>from</em> that model behaves</li>
<li><strong>Test your analysis pipeline</strong> on data where you <em>know</em> the truth</li>
<li><strong>Diagnose problems</strong> - if your model canâ€™t recover known parameters from simulated data, something is wrong</li>
</ul>
<p>In Week 3, many of you found simulation challenging. Thatâ€™s expected! Letâ€™s break it down together.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
The Simulation Recipe
</div>
</div>
<div class="callout-body-container callout-body">
<p>Every simulation follows the same four steps:</p>
<ol type="1">
<li><strong>Define the truth</strong> - What are the true parameter values? (e.g., true effect = 3 units)</li>
<li><strong>Generate structure</strong> - Create the experimental design (e.g., 5 fields Ã— 4 plots)</li>
<li><strong>Add randomness</strong> - Use a distribution to generate data (e.g., <code>rnorm()</code>, <code>rpois()</code>, <code>rbinom()</code>)</li>
<li><strong>Fit the model</strong> - Analyze the simulated data and see if you recover the truth</li>
</ol>
</div>
</div>
<hr>
</section>
</section>
<section id="part-1-setting-up-your-team-repository-10-min" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="part-1-setting-up-your-team-repository-10-min"><span class="header-section-number">3.3</span> Part 1: Setting Up Your Team Repository (â‰ˆ10 min)</h2>
<section id="form-pairs-1-min" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="form-pairs-1-min"><span class="header-section-number">3.3.1</span> Form Pairs (1 min)</h3>
<p>Get into pairs. Youâ€™ll be working on a <strong>shared GitHub repository</strong> for the rest of this session. Each person will take responsibility for <strong>one</strong> of the two simulation exercises, so youâ€™ll both contribute a complete analysis to the same repo.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Why Shared Repos?
</div>
</div>
<div class="callout-body-container callout-body">
<p>In real research, you rarely work alone. Shared repositories force you to practice the pull â†’ edit â†’ commit â†’ push cycle and deal with real collaboration challenges (coordinating whoâ€™s working on what, writing clear commit messages for your partner). This is the whole point of today.</p>
</div>
</div>
</section>
<section id="one-person-creates-the-repo-3-min" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="one-person-creates-the-repo-3-min"><span class="header-section-number">3.3.2</span> One Person Creates the Repo (3 min)</h3>
<p><strong>One partner</strong> does the following:</p>
<ol type="1">
<li>Go to <a href="https://github.com">github.com</a> â†’ <strong>â€œ+â€</strong> â†’ <strong>New repository</strong></li>
<li>Name it: <code>snr690-sim-team-[your-initials]</code> (e.g., <code>snr690-sim-team-amjk</code>)</li>
<li>âœ… Check <strong>â€œAdd a README fileâ€</strong></li>
<li>Set it to <strong>Public</strong> (so your partner can access it easily)</li>
<li>Click <strong>Create repository</strong></li>
<li>Go to <strong>Settings â†’ Collaborators â†’ Add people</strong> and add your partner by their GitHub username</li>
</ol>
</section>
<section id="both-partners-clone-the-repo-3-min" class="level3" data-number="3.3.3">
<h3 data-number="3.3.3" class="anchored" data-anchor-id="both-partners-clone-the-repo-3-min"><span class="header-section-number">3.3.3</span> Both Partners Clone the Repo (3 min)</h3>
<p><strong>Both partners</strong> (including the creator):</p>
<ol type="1">
<li>Go to the repository page on GitHub</li>
<li>Click the green <strong>â€œ&lt;&gt; Codeâ€</strong> button â†’ copy the HTTPS URL</li>
<li>In RStudio: <strong>File â†’ New Project â†’ Version Control â†’ Git</strong></li>
<li>Paste the URL, choose a directory, click <strong>Create Project</strong></li>
</ol>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Checkpoint
</div>
</div>
<div class="callout-body-container callout-body">
<p>Both partners should now have the same project open in RStudio, connected to the same GitHub repository. You should see the <strong>Git tab</strong> in your RStudio pane.</p>
</div>
</div>
</section>
<section id="decide-who-does-what-1-min" class="level3" data-number="3.3.4">
<h3 data-number="3.3.4" class="anchored" data-anchor-id="decide-who-does-what-1-min"><span class="header-section-number">3.3.4</span> Decide Who Does What (1 min)</h3>
<ul>
<li><strong>Partner A</strong> will work on <strong>Activity 1: The Soil Temperature Experiment</strong></li>
<li><strong>Partner B</strong> will work on <strong>Activity 2: The Fertilizer Yield Experiment</strong></li>
</ul>
<p>Each person creates their own Quarto file:</p>
<ol type="1">
<li><strong>File â†’ New File â†’ Quarto Document</strong></li>
<li>Title: <code>"Soil Temperature Simulation - [Your Name]"</code> or <code>"Fertilizer Yield Simulation - [Your Name]"</code></li>
<li>Save it as <code>sim-soil-temp-[yourname].qmd</code> or <code>sim-fertilizer-[yourname].qmd</code></li>
<li><strong>Commit</strong> with message: <code>"Add Quarto file for [activity name]"</code></li>
<li><strong>Push</strong> to GitHub</li>
</ol>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important: Pull Before You Push!
</div>
</div>
<div class="callout-body-container callout-body">
<p>Before pushing, always <strong>pull first</strong> (<code>git pull</code> in the Terminal, or the â¬‡ï¸ Pull button in the Git tab). Your partner may have pushed changes. Get in the habit now: <strong>pull â†’ work â†’ commit â†’ pull â†’ push</strong>.</p>
</div>
</div>
<hr>
</section>
</section>
<section id="part-2-simulation-exercises-start-simple-no-transformations-45-min" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="part-2-simulation-exercises-start-simple-no-transformations-45-min"><span class="header-section-number">3.4</span> Part 2: Simulation Exercises â€” Start Simple, No Transformations (â‰ˆ45 min)</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
The Rule: Start Simple
</div>
</div>
<div class="callout-body-container callout-body">
<p>We are deliberately keeping this simple today. <strong>I am providing the simulationâ€¦ Look at it, and figure out what I did different than you</strong></p>
<p>This is what you will be doing here: 1. Simulate data where you <strong>know the truth</strong> (you have the parameters and I provided the code this time) 2. <strong>Comment on the simulation code</strong> explain what each step is doing and whyâ€¦ or at least try to 3. Fit the <strong>proposed (wrong) model/method</strong> from Week 3. You write the code and explain why it might be problematic 4. Fit the <strong>correct model</strong>. You propose it, write the code, commit, and push 5. Write it all up in your Quarto document with narrative explaining what you did and why 6. Commit after each step with a meaningful commit message</p>
<p>This mirrors the real research process: you try an analysis, realize thereâ€™s a problem, and re-analyze correctly. Git tracks every step of that journey.</p>
</div>
</div>
<hr>
<section id="activity-1-salamander-survival-partner-a-station-1-from-week-3" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="activity-1-salamander-survival-partner-a-station-1-from-week-3"><span class="header-section-number">3.4.1</span> Activity 1: Salamander Survival (Partner A) â€” Station 1 from Week 3</h3>
<p><strong>Scenario:</strong> A researcher wants to know if canopy cover affects salamander survival in forest fragments. They marked 20 salamanders in each of 12 forest fragments and recorded whether each salamander survived (alive/dead) after one year. Canopy cover was measured as a percentage for each fragment.</p>
<p><strong>The truth (what weâ€™re simulating):</strong></p>
<ul>
<li>12 forest fragments</li>
<li>20 salamanders per fragment (240 total salamanders)</li>
<li>Canopy cover ranges from 40% to 90%</li>
<li>True effect of canopy cover on survival probability: for every 10% increase in canopy cover, the log-odds of survival increases by 0.09</li>
<li>Weâ€™ll use a logistic relationship (since survival is binary), but donâ€™t worry about the math - just run the code and comment what each line does</li>
</ul>
<section id="step-1-simulate-the-data-and-visualize-20-min" class="level4" data-number="3.4.1.1">
<h4 data-number="3.4.1.1" class="anchored" data-anchor-id="step-1-simulate-the-data-and-visualize-20-min"><span class="header-section-number">3.4.1.1</span> Step 1: Simulate the data and visualize (20 min)</h4>
<p>Copy the code below into your Quarto document. <strong>Your job: add a comment above or next to every line explaining what it does.</strong> If you donâ€™t understand a line, ask me.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lme4)  <span class="co"># for mixed models later</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the experimental structure</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>n_fragments <span class="ot">&lt;-</span> <span class="dv">12</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>n_salamanders_per_fragment <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>n_total <span class="ot">&lt;-</span> n_fragments <span class="sc">*</span> n_salamanders_per_fragment</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the truth</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>true_intercept <span class="ot">&lt;-</span> <span class="sc">-</span><span class="fl">3.5</span>          </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>true_canopy_effect <span class="ot">&lt;-</span> <span class="fl">0.09</span>    </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create fragment-level data</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>fragment_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">fragment_id =</span> <span class="dv">1</span><span class="sc">:</span>n_fragments,</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">canopy_cover =</span> <span class="fu">runif</span>(n_fragments, <span class="at">min =</span> <span class="dv">40</span>, <span class="at">max =</span> <span class="dv">90</span>)</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Create salamander-level data (each salamander belongs to a fragment)</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>salamander_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">salamander_id =</span> <span class="dv">1</span><span class="sc">:</span>n_total,</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">fragment_id =</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span>n_fragments, <span class="at">each =</span> n_salamanders_per_fragment)</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge to get canopy cover for each salamander</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>salamander_data <span class="ot">&lt;-</span> salamander_data <span class="sc">%&gt;%</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(fragment_data, <span class="at">by =</span> <span class="st">"fragment_id"</span>)</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Simulate survival using logistic regression formula</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>salamander_data <span class="ot">&lt;-</span> salamander_data <span class="sc">%&gt;%</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_odds =</span> true_intercept <span class="sc">+</span> true_canopy_effect <span class="sc">*</span> canopy_cover,</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">prob_survival =</span> <span class="dv">1</span> <span class="sc">/</span> (<span class="dv">1</span> <span class="sc">+</span> <span class="fu">exp</span>(<span class="sc">-</span>log_odds)),</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">survived =</span> <span class="fu">rbinom</span>(n_total, <span class="at">size =</span> <span class="dv">1</span>, <span class="at">prob =</span> prob_survival)</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at the data</span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(salamander_data)</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(salamander_data)</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize: proportion surviving in each fragment</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>fragment_summary <span class="ot">&lt;-</span> salamander_data <span class="sc">%&gt;%</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(fragment_id, canopy_cover) <span class="sc">%&gt;%</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_survived =</span> <span class="fu">sum</span>(survived),</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_total =</span> <span class="fu">n</span>(),</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">prop_survived =</span> n_survived <span class="sc">/</span> n_total,</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(fragment_summary, <span class="fu">aes</span>(<span class="at">x =</span> canopy_cover, <span class="at">y =</span> prop_survived)) <span class="sc">+</span></span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Simulated: Canopy Cover vs. Salamander Survival"</span>,</span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Each point = one forest fragment (20 salamanders each)"</span>,</span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Canopy Cover (%)"</span>,</span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Proportion Survived"</span></span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>ğŸ“ In your Quarto doc:</strong> Write a paragraph <em>above</em> the code chunk explaining: - What is the research question? - What is the experimental design? (How many fragments? How many salamanders per fragment?) - What is the response variable? What type of variable is it? - Why does this structure matter for the analysis?</p>
<p><strong>ğŸ“ Commit message:</strong> <code>"Simulate salamander survival data - 12 fragments, 20 sal per fragment"</code></p>
</section>
<section id="step-2-fit-the-proposed-wrong-model-from-week-3-10-min" class="level4" data-number="3.4.1.2">
<h4 data-number="3.4.1.2" class="anchored" data-anchor-id="step-2-fit-the-proposed-wrong-model-from-week-3-10-min"><span class="header-section-number">3.4.1.2</span> Step 2: Fit the proposed (wrong) model from Week 3 (10 min)</h4>
<p>In Week 3 Station 1, the <strong>proposed method</strong> was:</p>
<blockquote class="blockquote">
<p>Logistic regression: <code>glm(survival ~ canopy_cover, family = binomial)</code> Use the <code>salamander_data</code> data frame, which has one row per salamander, with a binary <code>survived</code> column and a <code>canopy_cover</code> column.</p>
</blockquote>
<p>This treats each salamander as an independent observation. <strong>But is that correct?</strong></p>
<p><strong>Your job:</strong></p>
<ol type="1">
<li>Fit this model using the code below (or write your own):</li>
</ol>
<ol start="2" type="1">
<li><strong>In your Quarto document</strong>, answer these questions:
<ul>
<li>What does this model assume about the salamanders?</li>
<li>Are salamanders within the same fragment truly independent? Why or why not?</li>
<li>What is the <strong>unit of replication</strong> in this experiment â€” the salamander or the fragment?</li>
<li>What problem might arise if we ignore the fragment structure?</li>
<li><strong>Key question:</strong> If salamanders in the same fragment are more similar to each other than to salamanders in other fragments (e.g., because of fragment-specific conditions), what happens to our standard errors and p-values?</li>
</ul></li>
</ol>
<p><strong>ğŸ“ Commit message:</strong> <code>"Fit proposed model (ignores fragment structure) - identify problem"</code></p>
<p><strong>Push to GitHub.</strong></p>
</section>
<section id="step-3-fit-the-correct-model-15-min" class="level4" data-number="3.4.1.3">
<h4 data-number="3.4.1.3" class="anchored" data-anchor-id="step-3-fit-the-correct-model-15-min"><span class="header-section-number">3.4.1.3</span> Step 3: Fit the correct model (15 min)</h4>
<p>The correct approach needs to <strong>account for the fact that salamanders are grouped within fragments</strong>. Salamanders in the same fragment are not independent â€” they share the same canopy cover, the same local predators, the same microclimate.</p>
<p><strong>Your job:</strong></p>
<ol type="1">
<li><p><strong>Propose a better model.</strong> Hints:</p>
<ul>
<li>You need to tell the model that salamanders are nested within fragments</li>
<li>Look at the <code>lme4</code> package (already loaded at the top)</li>
<li>The function you want is <code>glmer()</code> (generalized linear mixed-effects model)</li>
<li>The syntax is similar to <code>glm()</code>, but you add a random effect for fragment: <code>(1 | fragment_id)</code></li>
<li>Example structure: <code>glmer(response ~ predictor + (1 | grouping_variable), family = binomial, data = ...)</code></li>
</ul></li>
<li><p><strong>Write the code</strong> to fit the correct model</p></li>
<li><p><strong>In your Quarto document</strong>, answer:</p>
<ul>
<li>How did the estimate of the canopy cover effect change?</li>
<li>How did the standard error change? (Bigger? Smaller?)</li>
<li>Did the p-value change?</li>
<li>Why does accounting for fragment structure matter?</li>
<li>Which model do you trust more, and why?</li>
</ul></li>
<li><p><strong>Replace the proposed model in your document</strong> â€” meaning, re-organize your <code>.qmd</code> so that the correct model comes first, and the wrong model is shown as â€œwhat not to doâ€ or moved to an appendix section. This simulates the real research process: you realize you made a mistake, so you re-do the analysis correctly.</p></li>
</ol>
<p><strong>ğŸ“ Commit message:</strong> <code>"Fit correct model with random effect for fragment - replace wrong approach"</code></p>
<p><strong>Push to GitHub.</strong></p>
</section>
<section id="step-4-write-your-conclusions" class="level4" data-number="3.4.1.4">
<h4 data-number="3.4.1.4" class="anchored" data-anchor-id="step-4-write-your-conclusions"><span class="header-section-number">3.4.1.4</span> Step 4: Write your conclusions</h4>
<p>Add a final section called <strong>â€œWhat I Learnedâ€</strong> summarizing: - Why the proposed model was problematic (be specific about pseudoreplication) - Why the correct model is better - One sentence connecting this to the <strong>Method-Question-Data Triangle from Week 3</strong> (hint: the question is about canopy cover, but the data have a nested structure â€” the method must match both)</p>
<p><strong>ğŸ“ Commit message:</strong> <code>"Add conclusions and connect to Week 3 concepts"</code></p>
<p><strong>Push to GitHub.</strong></p>
<hr>
</section>
</section>
<section id="activity-2-wheat-yield-trials-partner-b-station-2-from-week-3" class="level3" data-number="3.4.2">
<h3 data-number="3.4.2" class="anchored" data-anchor-id="activity-2-wheat-yield-trials-partner-b-station-2-from-week-3"><span class="header-section-number">3.4.2</span> Activity 2: Wheat Yield Trials (Partner B) â€” Station 2 from Week 3</h3>
<p><strong>Scenario:</strong> An agronomist wants to know which of 5 wheat varieties produces the highest yield. They use a randomized complete block design: 4 blocks (fields), with one plot per variety per block (20 plots total). Yield (kg/ha) is recorded once per plot.</p>
<p><strong>The truth (what weâ€™re simulating):</strong></p>
<ul>
<li>5 wheat varieties</li>
<li>4 blocks (to account for field variability)</li>
<li>True variety effects: Variety A is the baseline, B is +200 kg/ha better, C is +350 kg/ha better, D is +100 kg/ha better, E is -50 kg/ha worse</li>
<li>True block effects: Block 1 is baseline, Block 2 is +150 kg/ha, Block 3 is -100 kg/ha, Block 4 is +200 kg/ha (because soil quality varies)</li>
<li>Noise SD = 120 kg/ha</li>
</ul>
<section id="step-1-simulate-the-data-and-visualize-20-min-1" class="level4" data-number="3.4.2.1">
<h4 data-number="3.4.2.1" class="anchored" data-anchor-id="step-1-simulate-the-data-and-visualize-20-min-1"><span class="header-section-number">3.4.2.1</span> Step 1: Simulate the data and visualize (20 min)</h4>
<p>Copy the code below into your Quarto document. <strong>Your job: add a comment next to lines explaining what it does.</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Define experimental structure</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>varieties <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"D"</span>, <span class="st">"E"</span>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>blocks <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Block1"</span>, <span class="st">"Block2"</span>, <span class="st">"Block3"</span>, <span class="st">"Block4"</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the truth</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>baseline_yield <span class="ot">&lt;-</span> <span class="dv">3000</span>  <span class="co"># kg/ha for variety A in block 1</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>variety_effects <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">A =</span> <span class="dv">0</span>,</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">B =</span> <span class="dv">200</span>,</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">C =</span> <span class="dv">350</span>,</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">D =</span> <span class="dv">100</span>,</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">E =</span> <span class="sc">-</span><span class="dv">50</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>block_effects <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">Block1 =</span> <span class="dv">0</span>,</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">Block2 =</span> <span class="dv">150</span>,</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">Block3 =</span> <span class="sc">-</span><span class="dv">100</span>,</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">Block4 =</span> <span class="dv">200</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>noise_sd <span class="ot">&lt;-</span> <span class="dv">120</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Create all combinations of variety and block (full factorial design)</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>wheat_data <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">variety =</span> varieties,</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">block =</span> blocks</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Add true yield based on variety and block effects</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>wheat_data <span class="ot">&lt;-</span> wheat_data <span class="sc">%&gt;%</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">variety_effect =</span> variety_effects[variety],</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">block_effect =</span> block_effects[block],</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">true_yield =</span> baseline_yield <span class="sc">+</span> variety_effect <span class="sc">+</span> block_effect,</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">yield =</span> true_yield <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="fu">n</span>(), <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> noise_sd)</span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at the data</span></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(wheat_data)</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(wheat_data)</span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize</span></span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(wheat_data, <span class="fu">aes</span>(<span class="at">x =</span> variety, <span class="at">y =</span> yield, <span class="at">color =</span> block)) <span class="sc">+</span></span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.3</span>)) <span class="sc">+</span></span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">"crossbar"</span>, <span class="at">width =</span> <span class="fl">0.5</span>, </span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Simulated: Wheat Variety Yields Across Blocks"</span>,</span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Each point = one plot; crossbar = variety mean across blocks"</span>,</span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Wheat Variety"</span>,</span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Yield (kg/ha)"</span>,</span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Block"</span></span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>ğŸ“ In your Quarto doc:</strong> Write a paragraph <em>above</em> the code chunk explaining: - What is the research question? - What is the experimental design? (What is a â€œblockâ€? Why use blocks?) - What is the response variable? - Why does the block structure matter?</p>
<p><strong>ğŸ“ Commit message:</strong> <code>"Simulate wheat yield data - 5 varieties x 4 blocks"</code></p>
</section>
<section id="step-2-fit-the-proposed-wrong-model-from-week-3-10-min-1" class="level4" data-number="3.4.2.2">
<h4 data-number="3.4.2.2" class="anchored" data-anchor-id="step-2-fit-the-proposed-wrong-model-from-week-3-10-min-1"><span class="header-section-number">3.4.2.2</span> Step 2: Fit the proposed (wrong) model from Week 3 (10 min)</h4>
<p>In Week 3 Station 2, the <strong>proposed method</strong> was:</p>
<blockquote class="blockquote">
<p>One-way ANOVA: <code>aov(yield ~ variety)</code></p>
</blockquote>
<p>This completely ignores the blocks. <strong>But blocks were part of the experimental design!</strong></p>
<p><strong>Your job:</strong></p>
<ol type="1">
<li>Fit this model: write the code to fit the one-way ANOVA that ignores blocks</li>
</ol>
<ol start="2" type="1">
<li><strong>In your Quarto narrative</strong>, answer these questions:
<ul>
<li>What does this model assume about the blocks?</li>
<li>If Block 2 has naturally higher-quality soil (true block effect = +150 kg/ha), and we ignore blocks, what happens to the variety estimates?</li>
<li>What problem arises when we ignore a source of variation that we know exists?</li>
<li><strong>Key question:</strong> The blocks were part of the experimental design. If we donâ€™t account for them in the analysis, are we throwing away information? What does that do to our standard errors and our ability to detect real variety differences?</li>
</ul></li>
</ol>
<p><strong>ğŸ“ Commit message:</strong> <code>"Fit proposed model (ignores blocks) - identify problem"</code></p>
<p><strong>Push to GitHub.</strong></p>
</section>
<section id="step-3-fit-the-correct-model-15-min-1" class="level4" data-number="3.4.2.3">
<h4 data-number="3.4.2.3" class="anchored" data-anchor-id="step-3-fit-the-correct-model-15-min-1"><span class="header-section-number">3.4.2.3</span> Step 3: Fit the correct model (15 min)</h4>
<p>The correct approach is to include <strong>both variety AND block</strong> in the model. This is a <strong>two-way ANOVA</strong> (or a linear model with two categorical predictors).</p>
<p><strong>Your job:</strong></p>
<ol type="1">
<li><p><strong>Propose a better model.</strong> Hints:</p></li>
<li><p><strong>Write the code</strong> to fit the correct model</p></li>
<li><p><strong>In your Quarto document</strong>, answer:</p>
<ul>
<li>How did the F-statistic and p-value for <code>variety</code> change?</li>
<li>How did the residual error (residual standard error) change? (Hint: look at <code>summary(proposed_model)</code> vs <code>summary(correct_model)</code>)</li>
<li>Compare the means for each variety from both models â€” did they change? If so, why?</li>
</ul></li>
<li><p><strong>Replace the proposed model in your document</strong> â€” re-organize your <code>.qmd</code> so the correct analysis comes first, and the wrong model is shown as â€œwhat not to do.â€</p></li>
</ol>
<p><strong>ğŸ“ Commit message:</strong> <code>"Fit correct model with block effect - replace wrong approach"</code></p>
<p><strong>Push to GitHub.</strong></p>
</section>
<section id="step-4-write-your-conclusions-1" class="level4" data-number="3.4.2.4">
<h4 data-number="3.4.2.4" class="anchored" data-anchor-id="step-4-write-your-conclusions-1"><span class="header-section-number">3.4.2.4</span> Step 4: Write your conclusions</h4>
<p>Add a final section called <strong>â€œWhat I Learnedâ€</strong> summarizing: - Why the proposed model was problematic (be specific about ignoring the blocking structure) - Why the correct model is better - One sentence connecting this to the <strong>Method-Question-Data Triangle from Week 3</strong> (hint: the question is about varieties, but the data were collected using a blocked design â€” the method must account for that)</p>
<p><strong>ğŸ“ Commit message:</strong> <code>"Add conclusions and connect to Week 3 concepts"</code></p>
<p><strong>Push to GitHub.</strong></p>
<hr>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What You Just Did
</div>
</div>
<div class="callout-body-container callout-body">
<p>You both just completed the full research cycle that Git is designed to track:</p>
<ol type="1">
<li><strong>Simulate/collect data</strong> â†’ commit</li>
<li><strong>Analyze using a proposed method</strong> â†’ commit</li>
<li><strong>Realize the method is wrong</strong> â†’ write about the problem, commit</li>
<li><strong>Re-analyze correctly</strong> â†’ replace the wrong analysis, commit</li>
<li><strong>Write conclusions</strong> â†’ commit</li>
</ol>
<p>Your Git history now tells the complete story of your analytical decisions. In real research, this is invaluable: when a reviewer asks â€œdid you try X?â€, you can look at your commit history and say â€œyes, hereâ€™s what happened when we did X, and hereâ€™s why we switched to Y.â€</p>
</div>
</div>
<hr>
</section>
</section>
</section>
<section id="part-3-review-your-partners-work-reflection-10-min" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="part-3-review-your-partners-work-reflection-10-min"><span class="header-section-number">3.5</span> Part 3: Review Your Partnerâ€™s Work + Reflection (â‰ˆ10 min)</h2>
<section id="pull-and-read-5-min" class="level3" data-number="3.5.1">
<h3 data-number="3.5.1" class="anchored" data-anchor-id="pull-and-read-5-min"><span class="header-section-number">3.5.1</span> Pull and Read (5 min)</h3>
<ol type="1">
<li><strong>Pull</strong> from GitHub to get your partnerâ€™s file</li>
<li><strong>Open their <code>.qmd</code> file</strong> and read through it</li>
<li>Pay attention to:
<ul>
<li>Did they comment every line of the simulation code? Do the comments make sense?</li>
<li>Is their narrative clear â€” could you understand the analysis without them explaining it to you?</li>
<li>Do their conclusions connect back to Week 1â€“3 concepts?</li>
</ul></li>
</ol>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Metacognitive Monitoring
</div>
</div>
<div class="callout-body-container callout-body">
<p>Writing commit messages forces <strong>metacognitive monitoring</strong> â€” you have to pause and articulate <em>what</em> you just did and <em>why</em> (Tanner, 2012). This is the same skill that makes for good scientific writing: being explicit about your analytical choices. Over time, the habit of writing commit messages trains you to be a more reflective analyst.</p>
</div>
</div>
</section>
<section id="git-log-review-2-min" class="level3" data-number="3.5.2">
<h3 data-number="3.5.2" class="anchored" data-anchor-id="git-log-review-2-min"><span class="header-section-number">3.5.2</span> Git Log Review (2 min)</h3>
<p>In the Terminal, type:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> log <span class="at">--oneline</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Look at the commit history. Each line is a snapshot of your analytical journey â€” and your partnerâ€™s. <strong>This is what version control gives you</strong>: a complete, narrated record of every decision both of you made.</p>
</section>
<section id="exit-ticket-2-min" class="level3" data-number="3.5.3">
<h3 data-number="3.5.3" class="anchored" data-anchor-id="exit-ticket-2-min"><span class="header-section-number">3.5.3</span> Exit Ticket (2 min)</h3>
<p>On a piece of paper, answer:</p>
<ol type="1">
<li><strong>One thing you now feel comfortable doing in Git</strong> (be specific â€” e.g., â€œI can commit and push from RStudioâ€)</li>
<li><strong>One thing you still want to practice</strong> (e.g., â€œIâ€™m not sure how branches workâ€)</li>
<li><strong>One connection</strong> between todayâ€™s Git workshop and the statistical concepts from Weeks 1â€“3</li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Looking Ahead
</div>
</div>
<div class="callout-body-container callout-body">
<p>Now that you have Git fundamentals down, future sessions will build on this. Youâ€™ll use version control for every hands-on activity going forward.</p>
</div>
</div>
<hr>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "î§‹";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>